:root{
  --bg:#0f172a; --panel:#111827; --muted:#94a3b8; --text:#e5e7eb; --accent:#22d3ee; --danger:#ef4444; --ok:#10b981;
  --border:#1f2937;
  --surface:#0b1220; --surface-2:#000000; --input-bg:#0b1220; --btn-secondary-bg:#18212f; --card-grad:linear-gradient(180deg,#0a1221,#0b1528);
  --folder-color:#facc15; /* dark: yellow */
  --file-color:#38bdf8;   /* dark: sky */
}
[data-theme="light"]{
  --bg:#f8fafc; --panel:#ffffff; --muted:#64748b; --text:#0f172a; --accent:#0ea5e9; --danger:#b91c1c; --ok:#059669;
  --border:#e2e8f0;
  --surface:#ffffff; --surface-2:#f8fafc; --input-bg:#ffffff; --btn-secondary-bg:#f1f5f9; --card-grad:linear-gradient(180deg,#ffffff,#f8fafc);
  --danger-btn-bg:#fee2e2; --danger-btn-border:#ef4444; --danger-btn-text:#7f1d1d;
  --danger-box-bg:#fee2e2; --danger-box-border:#ef4444; --danger-box-text:#7f1d1d;
  --folder-color:#fb923c; /* light: orange */
  --file-color:#a78bfa;   /* light: violet */
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:14px/1.4 system-ui,Segoe UI,Roboto,Arial}
h1,h2,h3{margin:0 0 .5rem}
code,pre{font-family:ui-monospace,SFMono-Regular,Consolas,monospace}

.app-header,.app-footer{padding:16px 24px;border-bottom:1px solid var(--border)}
.app-header{display:grid;grid-template-columns:1fr max-content;gap:12px;align-items:center}
.app-header .brand{min-width:0}
.header-actions{display:flex;gap:8px}
.icon-btn{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:8px 0 0 8px;border:1px solid var(--border);background:var(--surface);color:var(--text);text-decoration:none}
.icon-btn:hover{filter:brightness(1.05)}
.icon-btn .svg-sun{display:none}
[data-theme="light"] .icon-btn .svg-sun{display:block}
[data-theme="light"] .icon-btn .svg-moon{display:none}
.app-footer{border-top:1px solid var(--border);border-bottom:none;opacity:.7;text-align:center}
.app-footer a{color:var(--accent);text-decoration:none;transition:all .2s ease}
.app-footer a:hover{text-decoration:underline;opacity:.9}
.subtitle{color:var(--muted)}
.container{padding:24px;max-width:1200px;margin:0 auto}
.warning-banner{background:#fef3c7;border:2px solid #fbbf24;color:#78350f;padding:12px 16px;border-radius:8px;margin-bottom:16px;font-weight:500;display:flex;align-items:center;gap:8px;animation:slideDown 0.3s ease}
[data-theme="light"] .warning-banner{background:#fef3c7;border-color:#f59e0b;color:#78350f}
.success-banner{background:#d1fae5;border:2px solid #10b981;color:#065f46;padding:12px 16px;border-radius:8px;margin-bottom:16px;font-weight:500;display:flex;align-items:center;gap:8px;animation:slideDown 0.3s ease}
[data-theme="light"] .success-banner{background:#d1fae5;border-color:#10b981;color:#065f46}
@keyframes slideDown{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}
.panel{background:var(--panel);border:1px solid var(--border);border-radius:10px;padding:16px;margin-bottom:16px}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.columns{display:grid;grid-template-columns:1fr 1fr;gap:40px}
.header-row{display:flex;align-items:center;justify-content:space-between}
.header-row .inline{gap:8px}
.field-row{margin-top:10px}
.inline{display:flex;gap:8px}
.date-time-row{display:flex;gap:12px;margin-bottom:8px;width:100%}
.date-time-row .field{flex:1}
input[type=text],input[type=email],input[type=password],input[type=number],input[type=date],input[type=time]{width:100%;padding:8px;border:1px solid var(--border);background:var(--input-bg);color:var(--text);border-radius:6px}
button{padding:8px 12px;border:1px solid var(--border);background:var(--surface);color:var(--text);border-radius:6px;cursor:pointer;transition:box-shadow .2s ease, filter .2s ease}
button.primary{background:linear-gradient(90deg,#1d4ed8,#06b6d4);border:none;color: white;}
button.secondary{background:var(--btn-secondary-bg)}
button.danger{background:var(--danger-btn-bg, #2a0f12);border-color:var(--danger-btn-border, #7f1d1d);color:var(--danger-btn-text, #fecaca)}
button:hover{filter:brightness(1.08)}
button.primary:hover{box-shadow:0 0 0 2px rgba(6,182,212,.35), 0 0 10px rgba(6,182,212,.3)}
button.secondary:hover{box-shadow:0 0 0 2px rgba(30,41,59,.3), 0 0 8px rgba(30,41,59,.25)}
button.danger:hover{box-shadow:0 0 0 2px rgba(239,68,68,.35), 0 0 10px rgba(239,68,68,.25)}
button:disabled{opacity:.6;cursor:not-allowed}
.flag-text{font-size:12px;font-weight:600;line-height:1}
.status{display:grid;gap:8px;background:var(--surface);border:1px solid var(--border);padding:8px;border-radius:8px;position:relative}
.status code{display:block;color:var(--text)}
.status code.copyable{cursor:pointer;position:relative;padding:.25rem .5rem;border-radius:6px;border:1px dashed var(--border);background:var(--surface-2)}
.status code.copyable:hover{box-shadow:0 0 0 2px rgba(14,165,233,.25)}
.status code.copyable.copied{outline:2px solid var(--accent);}
/* Tooltip for copyable */
.status code.copyable::after{content:attr(data-tip);position:absolute;top:-32px;right:0;white-space:nowrap;background:#000;color:#fff;font-size:12px;padding:4px 6px;border-radius:4px;opacity:0;transform:translateY(4px);pointer-events:none;transition:opacity .15s ease, transform .15s ease}
.status code.copyable:hover::after{opacity:1;transform:translateY(0)}

.columns .col{min-height:260px}
.tree{border:1px solid var(--border);background:var(--surface);border-radius:8px;padding:8px;max-height:420px;overflow:auto}
.tree .node{padding-left:18px}
.tree .label{display:flex;align-items:center;gap:8px;padding:4px;border-radius:6px;cursor:pointer}
.dir > summary{list-style:none}
.dir > summary::-webkit-details-marker{display:none}
.dir > summary{display:flex;align-items:center;gap:8px;padding:4px;border-radius:6px;cursor:pointer}
.dir > summary:hover{background:var(--surface-2)}
.dir > summary .chev{display:inline-block;transition:transform .2s ease}
.dir[open] > summary .chev{transform:rotate(90deg)}
.group{margin-left:18px}
.tree .file{cursor:grab}
.tree .icon{display:inline-flex;color:currentColor}
.tree .ico-folder{color:var(--folder-color)}
.tree .ico-file{color:var(--file-color)}
.tree .label:hover{background:var(--surface-2)}
.tree .dragging{opacity:.5}

.log-list{list-style:none;margin:0;padding:0;border:1px solid var(--border);border-radius:10px;background:var(--surface)}
.log-row{display:grid;grid-template-columns:max-content 1fr max-content max-content max-content;gap:10px;padding:10px;border-bottom:1px solid var(--border);align-items:center;transition:all .2s ease;position:relative}
.log-row:last-child{border-bottom:none}
.log-row.hidden-marked{background:hsl(0deg 63.06% 69.22% / 13%)}
.log-row.hidden-marked .path{color:var(--danger-btn-text, #fecaca)}
.log-row .drag-handle{cursor:grab;padding:6px 4px;display:flex;align-items:center;justify-content:center;color:var(--muted);transition:all .15s ease;border-radius:4px}
.log-row .drag-handle:hover{color:var(--text);background:var(--surface-2);transform:scale(1.1)}
.log-row .drag-handle:active{cursor:grabbing;transform:scale(0.95)}
.log-row.dragging{opacity:.5;transform:scale(0.98);filter:saturate(0.5)}
.log-list.dragging-active .log-row:not(.dragging){transition:transform .2s ease}
.drop-zone{height:8px;margin:4px 0;background:transparent;transition:all .2s ease;position:relative}
.drop-zone::before{content:'';position:absolute;top:50%;left:0;right:0;height:2px;background:#fef3c7;opacity:0;transform:translateY(-50%);transition:all .2s ease}
.log-list.dragging-active .drop-zone::before{opacity:1}
.drop-zone.active{height:24px;margin:8px 0}
.drop-zone.active::before{height:100%;top:0;transform:none;background:#fde68a;border-radius:4px;box-shadow:0 0 0 2px #fbbf24}
.log-row .chk{display:flex;align-items:center;gap:8px;white-space:nowrap}
.log-row .empty-log{
  background:var(--btn-secondary-bg);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  color:var(--muted);
  transition:all .2s ease;
  border:1px solid var(--border);
  border-radius:6px;
  padding:6px 8px;
  cursor:pointer;
}
.log-row .empty-log:hover{
  background:#fef3c7;
  border-color:#f59e0b;
  color:#78350f;
  transform:scale(1.05);
}
.log-row .remove{
  background:#fee2e2;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  color:#b91c1c;
  transition:all .2s ease;
  border:1px solid #ef4444;
  border-radius:6px;
  padding:6px 8px;
  cursor:pointer;
}
.log-row .remove:hover{
  background:#ef4444;
  border-color:#dc2626;
  color:white;
  transform:scale(1.05);
}
.log-row .expand{
  background:var(--btn-secondary-bg);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  color:var(--muted);
  transition:all .2s ease;
  border:1px solid var(--border);
  border-radius:6px;
  padding:6px 8px;
  cursor:pointer;
}
.log-row .expand:hover{
  background:var(--surface-2);
  border-color:var(--accent);
  color:var(--text);
  transform:scale(1.05);
}
.log-row .expand.open svg{transform:rotate(90deg)}
.log-row .expand svg{transition:transform .2s ease}
.log-row .details{grid-column:1/-1;display:none;gap:14px;background:var(--card-grad);border:1px solid var(--border);margin-top:6px;padding:12px;border-radius:10px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.03), 0 1px 2px rgba(0,0,0,.15)}
.log-row .details.show{display:flex;flex-direction:column;gap:12px}
.log-row .details .field{display:flex;flex-direction:column;gap:6px}
.log-row .details .field > span{font-size:12px;color:var(--muted)}
.log-row .details input[type=date],
.log-row .details input[type=time],
.log-row .details input[type=number]{width:100%;padding:8px;border:1px solid var(--border);background:var(--input-bg);color:var(--text);border-radius:8px;color-scheme:dark}
[data-theme="light"] .log-row .details input[type=date],
[data-theme="light"] .log-row .details input[type=time],
[data-theme="light"] .log-row .details input[type=number]{color-scheme:light}
.log-row .details .chk{align-items:center}
.log-row .details .chk{display:flex}
.log-row .details .chk input{margin-right:8px}
.hint{margin:8px 0;color:var(--muted)}
.actions{display:flex;gap:8px;margin-top:8px}
.output{background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:8px;max-height:280px;overflow:auto}
.output{white-space:pre-wrap;word-break:break-word}
.danger-box{background:var(--danger-box-bg, #1f0f12);border:1px solid var(--danger-box-border, #7f1d1d);color:var(--danger-box-text, #fecaca);padding:12px;border-radius:8px}
.security-warning{background:linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(239, 68, 68, 0.1));border:2px solid #fbbf24}
.security-warning h2{color:#fbbf24;margin-bottom:12px}
.security-warning .warning-content{background:var(--surface);padding:16px;border-radius:6px;border:1px solid var(--border)}
.security-warning p{margin:0 0 12px;line-height:1.6}
.security-warning button svg{display:inline-block;vertical-align:middle}

.danger-section{background:linear-gradient(135deg, rgba(239, 68, 68, 0.05), rgba(220, 38, 38, 0.05));border:2px solid var(--danger)}
.danger-section h2{color:var(--danger);margin-bottom:12px}
.danger-section .danger-box{background:var(--surface);padding:20px;border-radius:8px;border:1px solid rgba(239, 68, 68, 0.3)}
.danger-section .danger-box ul{margin:12px 0;padding-left:24px}
.danger-section .danger-box li{margin:6px 0;color:var(--text)}

.drop-target{outline:2px dashed var(--accent)}
.log-row .path.drop-target{background:var(--surface-2);box-shadow:0 0 0 2px var(--accent)}

.toast{position:fixed;bottom:16px;left:50%;transform:translateX(-50%);background:var(--surface);border:1px solid var(--border);padding:10px 14px;border-radius:8px;opacity:0;pointer-events:none;transition:opacity .5s ease}
.toast.show{opacity:1}

.info-box{margin-top:12px;padding:12px;background:var(--surface);border:1px solid var(--border);border-radius:8px;font-size:13px}
.info-box p{margin:0 0 8px;color:var(--muted)}
.info-box p:last-child{margin-bottom:0}
.info-box strong{color:var(--text)}

/* Password Management */
.password-change-form{display:flex;flex-direction:column;gap:16px}
.password-change-form .field-row{display:flex;flex-direction:column;gap:8px}
.password-change-form label{font-weight:500;font-size:13px;color:var(--text)}
.password-change-form input[type=password]{padding:10px 12px;border:1px solid var(--border);background:var(--input-bg);color:var(--text);border-radius:8px;font-size:14px;transition:all .2s ease}
.password-change-form input[type=password]:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(34,211,238,.25)}
.password-strength{height:6px;border-radius:3px;background:var(--border);margin:8px 0;transition:all .3s ease}
.password-strength.weak{background:linear-gradient(90deg,var(--danger) 33%,var(--border) 33%)}
.password-strength.medium{background:linear-gradient(90deg,#fbbf24 66%,var(--border) 66%)}
.password-strength.strong{background:var(--ok)}
.password-strength-text{font-size:12px;margin-top:4px;color:var(--muted)}
.account-info{background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:16px}
.info-item{padding:8px 0;border-bottom:1px solid var(--border);font-size:14px}
.info-item:last-child{border-bottom:none}
.info-item strong{color:var(--muted);font-weight:500;margin-right:8px}
.info-item span{color:var(--text)}

/* Security and Account Unified */
.security-unified{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:16px}
.account-status{background:linear-gradient(135deg,rgba(34,211,238,.05),rgba(14,165,233,.05));border:1px solid rgba(34,211,238,.15);border-radius:8px;padding:12px;margin-bottom:20px}
[data-theme="light"] .account-status{background:linear-gradient(135deg,rgba(14,165,233,.08),rgba(6,182,212,.08));border-color:rgba(14,165,233,.2)}
.security-controls{margin-top:20px}
.security-controls h4{font-size:14px;font-weight:600;color:var(--text);margin:0 0 12px;padding-bottom:8px;border-bottom:1px solid var(--border)}
.field-row.compact{margin-bottom:12px}
.field-row.compact label{font-size:13px;font-weight:500;color:var(--text);margin-bottom:6px;display:block}
.field-row.compact input[type=number]{width:100%;padding:8px 10px;border:1px solid var(--border);background:var(--input-bg);color:var(--text);border-radius:6px;font-size:14px;transition:all .2s ease}
.field-row.compact input[type=number]:hover{border-color:var(--accent);box-shadow:0 0 0 3px rgba(34,211,238,.1)}
.field-row.compact input[type=number]:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(34,211,238,.25)}
.field-row.compact .field-help{font-size:11px;color:var(--muted);margin-top:4px;display:block}
.security-note{margin-top:16px;padding-top:16px;border-top:1px solid var(--border)}
.security-note .hint{margin:0;font-size:13px;display:flex;align-items:center;gap:6px}

/* Collapse Panel Animation */
.collapse-btn{
  position: absolute;
  left: -36px;
  top: 50%;
  transform: translateY(-50%);
  z-index: 10;
  opacity: 0.7;
  transition: all .3s ease;
}
.collapse-btn:hover{opacity:1}
.header-row{position:relative}
.log-files-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:40px;
  transition:grid-template-columns .3s cubic-bezier(0.4, 0, 0.2, 1);
}

#right-column{
  position:relative;
  transition:transform .4s cubic-bezier(0.25, 0.46, 0.45, 0.94), height .4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  transform-origin:right center;
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:10px;
}

#right-column .content-wrapper{
  padding:16px;
  transition:opacity .3s ease, transform .3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  transform:translateX(0);
  overflow:hidden;
}

/* Collapsing States */
#right-column.collapsing{
  transform:scaleX(0.05);
  border-radius:0 10px 10px 0;
}

#right-column.collapsing .content-wrapper{
  opacity:0;
  transform:translateX(20px);
  transition:opacity .15s ease, transform .15s ease;
  display:none;
}

#right-column.collapsed{
  transform:scaleX(0.05);
  border-radius:0 10px 10px 0;
  min-width:20px;
}

#right-column.collapsed .content-wrapper{
  opacity:0;
  transform:translateX(20px);
  background:var(--surface);
  display:none;
}

/* Expanding States */  
#right-column.expanding{
  transform:scaleX(1);
}

#right-column.expanding .content-wrapper{
  opacity:0;
  transform:translateX(-20px);
  display:none;
  background:var(--surface);
  transition:opacity .25s ease .35s, transform .25s cubic-bezier(0.25, 0.46, 0.45, 0.94) .35s;
}

#right-column.expanded .content-wrapper{
  opacity:1;
  transform:translateX(0);
}

.log-files-grid.panel-collapsed{grid-template-columns:1fr 20px}

/* Collapse Button Enhancements */
.collapse-btn{
  position:absolute;
  left:-36px;
  top:50%;
  transform:translateY(-50%);
  z-index:100;
  opacity:0.8;
  transition:all .4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  backdrop-filter:blur(10px);
  background:var(--surface);
  border:1px solid var(--border);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:36px;
  height:36px;
  border-radius:8px 0 0 8px;
  color:var(--text);
}


#right-column.collapsed .collapse-btn{
  left:-32px;
  background:var(--surface);
  color:var(--text);
  transform:translateY(-50%) scaleX(20);
}

#right-column.collapsing .collapse-btn,
#right-column.expanding .collapse-btn{
  background:var(--accent);
  color:white;
}

.collapse-btn:hover{
  opacity:1;
  transform:translateY(-50%) scale(1.05);
  background:var(--accent);
  color:white;
}

.collapse-btn svg{
  transition:transform .4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  transform:rotate(180deg);
}

#right-column.collapsed .collapse-btn svg,
#right-column.collapsing .collapse-btn svg{
  transform:rotate(0deg);
}


@media (max-width:940px){
  .grid-2,.columns{grid-template-columns:1fr}
}


