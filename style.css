:root{
  --bg:#0f172a; --panel:#111827; --muted:#94a3b8; --text:#e5e7eb; --accent:#22d3ee; --danger:#ef4444; --ok:#10b981;
  --border:#1f2937;
  --surface:#0b1220; --surface-2:#000000; --input-bg:#0b1220; --btn-secondary-bg:#18212f; --card-grad:linear-gradient(180deg,#0a1221,#0b1528);
  --folder-color:#facc15; /* dark: yellow */
  --file-color:#38bdf8;   /* dark: sky */
}
[data-theme="light"]{
  --bg:#f8fafc; --panel:#ffffff; --muted:#64748b; --text:#0f172a; --accent:#0ea5e9; --danger:#b91c1c; --ok:#059669;
  --border:#e2e8f0;
  --surface:#ffffff; --surface-2:#f8fafc; --input-bg:#ffffff; --btn-secondary-bg:#f1f5f9; --card-grad:linear-gradient(180deg,#ffffff,#f8fafc);
  --danger-btn-bg:#fee2e2; --danger-btn-border:#ef4444; --danger-btn-text:#7f1d1d;
  --danger-box-bg:#fee2e2; --danger-box-border:#ef4444; --danger-box-text:#7f1d1d;
  --folder-color:#fb923c; /* light: orange */
  --file-color:#a78bfa;   /* light: violet */
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:14px/1.4 system-ui,Segoe UI,Roboto,Arial}
h1,h2,h3{margin:0 0 .5rem}
code,pre{font-family:ui-monospace,SFMono-Regular,Consolas,monospace}

.app-header,.app-footer{padding:16px 24px;border-bottom:1px solid var(--border)}
.app-header{display:grid;grid-template-columns:1fr max-content;gap:12px;align-items:center}
.app-header .brand{min-width:0}
.header-actions{display:flex;gap:8px}
.icon-btn{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:8px;border:1px solid var(--border);background:var(--surface);color:var(--text);text-decoration:none}
.icon-btn:hover{filter:brightness(1.05)}
.icon-btn .svg-sun{display:none}
[data-theme="light"] .icon-btn .svg-sun{display:block}
[data-theme="light"] .icon-btn .svg-moon{display:none}
.app-footer{border-top:1px solid var(--border);border-bottom:none;opacity:.7}
.subtitle{color:var(--muted)}
.container{padding:24px;max-width:1200px;margin:0 auto}
.panel{background:var(--panel);border:1px solid var(--border);border-radius:10px;padding:16px;margin-bottom:16px}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.columns{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.header-row{display:flex;align-items:center;justify-content:space-between}
.header-row .inline{gap:8px}
.field-row{margin-top:10px}
.inline{display:flex;gap:8px}
input[type=text]{width:100%;padding:8px;border:1px solid var(--border);background:var(--input-bg);color:var(--text);border-radius:6px}
button{padding:8px 12px;border:1px solid var(--border);background:var(--surface);color:var(--text);border-radius:6px;cursor:pointer;transition:box-shadow .2s ease, filter .2s ease}
button.primary{background:linear-gradient(90deg,#1d4ed8,#06b6d4);border:none;color: white;}
button.secondary{background:var(--btn-secondary-bg)}
button.danger{background:var(--danger-btn-bg, #2a0f12);border-color:var(--danger-btn-border, #7f1d1d);color:var(--danger-btn-text, #fecaca)}
button:hover{filter:brightness(1.08)}
button.primary:hover{box-shadow:0 0 0 2px rgba(6,182,212,.35), 0 0 10px rgba(6,182,212,.3)}
button.secondary:hover{box-shadow:0 0 0 2px rgba(30,41,59,.3), 0 0 8px rgba(30,41,59,.25)}
button.danger:hover{box-shadow:0 0 0 2px rgba(239,68,68,.35), 0 0 10px rgba(239,68,68,.25)}
button:disabled{opacity:.6;cursor:not-allowed}
.status{display:grid;gap:8px;background:var(--surface);border:1px solid var(--border);padding:8px;border-radius:8px;position:relative}
.status code{display:block;color:var(--text)}
.status code.copyable{cursor:pointer;position:relative;padding:.25rem .5rem;border-radius:6px;border:1px dashed var(--border);background:var(--surface-2)}
.status code.copyable:hover{box-shadow:0 0 0 2px rgba(14,165,233,.25)}
.status code.copyable.copied{outline:2px solid var(--accent);}
/* Tooltip for copyable */
.status code.copyable::after{content:attr(data-tip);position:absolute;top:-32px;right:0;white-space:nowrap;background:#000;color:#fff;font-size:12px;padding:4px 6px;border-radius:4px;opacity:0;transform:translateY(4px);pointer-events:none;transition:opacity .15s ease, transform .15s ease}
.status code.copyable:hover::after{opacity:1;transform:translateY(0)}

.columns .col{min-height:260px}
.tree{border:1px solid var(--border);background:var(--surface);border-radius:8px;padding:8px;max-height:420px;overflow:auto}
.tree .node{padding-left:18px}
.tree .label{display:flex;align-items:center;gap:8px;padding:4px;border-radius:6px;cursor:pointer}
.dir > summary{list-style:none}
.dir > summary::-webkit-details-marker{display:none}
.dir > summary{display:flex;align-items:center;gap:8px;padding:4px;border-radius:6px;cursor:pointer}
.dir > summary:hover{background:var(--surface-2)}
.dir > summary .chev{display:inline-block;transition:transform .2s ease}
.dir[open] > summary .chev{transform:rotate(90deg)}
.group{margin-left:18px}
.tree .file{cursor:grab}
.tree .icon{display:inline-flex;color:currentColor}
.tree .ico-folder{color:var(--folder-color)}
.tree .ico-file{color:var(--file-color)}
.tree .label:hover{background:var(--surface-2)}
.tree .dragging{opacity:.5}

.log-list{list-style:none;margin:0;padding:0;border:1px solid var(--border);border-radius:10px;background:var(--surface)}
.log-row{display:grid;grid-template-columns:max-content 1fr max-content max-content;gap:10px;padding:10px;border-bottom:1px solid var(--border);align-items:center;transition:all .2s ease;position:relative}
.log-row:last-child{border-bottom:none}
.log-row.hidden-marked{border-color:var(--danger-btn-border, #7f1d1d);background:rgba(127, 29, 29, 0.05)}
.log-row.hidden-marked .path{color:var(--danger-btn-text, #fecaca)}
.log-row .drag-handle{cursor:grab;padding:6px 4px;display:flex;align-items:center;justify-content:center;color:var(--muted);transition:all .15s ease;border-radius:4px}
.log-row .drag-handle:hover{color:var(--text);background:var(--surface-2);transform:scale(1.1)}
.log-row .drag-handle:active{cursor:grabbing;transform:scale(0.95)}
.log-row.dragging{opacity:.5;transform:scale(0.98);filter:saturate(0.5)}
.log-list.dragging-active .log-row:not(.dragging){transition:transform .2s ease}
.drop-zone{height:8px;margin:4px 0;background:transparent;transition:all .2s ease;position:relative}
.drop-zone::before{content:'';position:absolute;top:50%;left:0;right:0;height:2px;background:#fef3c7;opacity:0;transform:translateY(-50%);transition:all .2s ease}
.log-list.dragging-active .drop-zone::before{opacity:1}
.drop-zone.active{height:24px;margin:8px 0}
.drop-zone.active::before{height:100%;top:0;transform:none;background:#fde68a;border-radius:4px;box-shadow:0 0 0 2px #fbbf24}
.log-row .chk{display:flex;align-items:center;gap:8px;white-space:nowrap}
.log-row .expand{background:var(--btn-secondary-bg);display:inline-flex;align-items:center;justify-content:center}
.log-row .expand.open{transform:rotate(90deg)}
.log-row .details{grid-column:1/-1;display:none;gap:14px;background:var(--card-grad);border:1px solid var(--border);margin-top:6px;padding:12px;border-radius:10px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.03), 0 1px 2px rgba(0,0,0,.15)}
.log-row .details.show{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
.log-row .details .field{display:flex;flex-direction:column;gap:6px}
.log-row .details .field > span{font-size:12px;color:var(--muted)}
.log-row .details input[type=date],
.log-row .details input[type=time]{width:100%;padding:8px;border:1px solid var(--border);background:var(--input-bg);color:var(--text);border-radius:8px}
.log-row .details .chk{align-items:center}
.log-row .details .chk{display:flex}
.log-row .details .chk input{margin-right:8px}
.hint{margin:8px 0;color:var(--muted)}
.actions{display:flex;gap:8px;margin-top:8px}
.output{background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:8px;max-height:280px;overflow:auto}
.output{white-space:pre-wrap;word-break:break-word}
.danger-box{background:var(--danger-box-bg, #1f0f12);border:1px solid var(--danger-box-border, #7f1d1d);color:var(--danger-box-text, #fecaca);padding:12px;border-radius:8px}

.drop-target{outline:2px dashed var(--accent)}
.log-row .path.drop-target{background:var(--surface-2);box-shadow:0 0 0 2px var(--accent)}

.toast{position:fixed;bottom:16px;left:50%;transform:translateX(-50%);background:var(--surface);border:1px solid var(--border);padding:10px 14px;border-radius:8px;opacity:0;pointer-events:none;transition:opacity .5s ease}
.toast.show{opacity:1}

.info-box{margin-top:12px;padding:12px;background:var(--surface);border:1px solid var(--border);border-radius:8px;font-size:13px}
.info-box p{margin:0 0 8px;color:var(--muted)}
.info-box p:last-child{margin-bottom:0}
.info-box strong{color:var(--text)}

@media (max-width:940px){
  .grid-2,.columns{grid-template-columns:1fr}
}


